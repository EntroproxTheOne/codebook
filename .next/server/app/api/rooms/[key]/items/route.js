"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/rooms/[key]/items/route";
exports.ids = ["app/api/rooms/[key]/items/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute&page=%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute.ts&appDir=C%3A%5CUsers%5Cmasoo%5COneDrive%5CDesktop%5CProjects_2025%5CNOTE_%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmasoo%5COneDrive%5CDesktop%5CProjects_2025%5CNOTE_&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute&page=%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute.ts&appDir=C%3A%5CUsers%5Cmasoo%5COneDrive%5CDesktop%5CProjects_2025%5CNOTE_%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmasoo%5COneDrive%5CDesktop%5CProjects_2025%5CNOTE_&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_masoo_OneDrive_Desktop_Projects_2025_NOTE_app_api_rooms_key_items_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/rooms/[key]/items/route.ts */ \"(rsc)/./app/api/rooms/[key]/items/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/rooms/[key]/items/route\",\n        pathname: \"/api/rooms/[key]/items\",\n        filename: \"route\",\n        bundlePath: \"app/api/rooms/[key]/items/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\masoo\\\\OneDrive\\\\Desktop\\\\Projects_2025\\\\NOTE_\\\\app\\\\api\\\\rooms\\\\[key]\\\\items\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_masoo_OneDrive_Desktop_Projects_2025_NOTE_app_api_rooms_key_items_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/rooms/[key]/items/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyb29tcyUyRiU1QmtleSU1RCUyRml0ZW1zJTJGcm91dGUmcGFnZT0lMkZhcGklMkZyb29tcyUyRiU1QmtleSU1RCUyRml0ZW1zJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcm9vbXMlMkYlNUJrZXklNUQlMkZpdGVtcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNtYXNvbyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q1Byb2plY3RzXzIwMjUlNUNOT1RFXyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDbWFzb28lNUNPbmVEcml2ZSU1Q0Rlc2t0b3AlNUNQcm9qZWN0c18yMDI1JTVDTk9URV8maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tEO0FBQy9IO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm90ZS10YWtpbmctYXBwLz8yYWFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXG1hc29vXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcUHJvamVjdHNfMjAyNVxcXFxOT1RFX1xcXFxhcHBcXFxcYXBpXFxcXHJvb21zXFxcXFtrZXldXFxcXGl0ZW1zXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9yb29tcy9ba2V5XS9pdGVtcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Jvb21zL1trZXldL2l0ZW1zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yb29tcy9ba2V5XS9pdGVtcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXG1hc29vXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcUHJvamVjdHNfMjAyNVxcXFxOT1RFX1xcXFxhcHBcXFxcYXBpXFxcXHJvb21zXFxcXFtrZXldXFxcXGl0ZW1zXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9yb29tcy9ba2V5XS9pdGVtcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute&page=%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute.ts&appDir=C%3A%5CUsers%5Cmasoo%5COneDrive%5CDesktop%5CProjects_2025%5CNOTE_%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmasoo%5COneDrive%5CDesktop%5CProjects_2025%5CNOTE_&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/rooms/[key]/items/route.ts":
/*!********************************************!*\
  !*** ./app/api/rooms/[key]/items/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/storage */ \"(rsc)/./lib/storage.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./lib/utils.ts\");\n\n\n\nasync function POST(request, { params }) {\n    try {\n        const { key } = params;\n        const itemData = await request.json();\n        if (!(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.validateRoomKey)(key)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Invalid room key format\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate required fields\n        if (!itemData.type || !itemData.content) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Type and content are required\"\n            }, {\n                status: 400\n            });\n        }\n        const item = await _lib_storage__WEBPACK_IMPORTED_MODULE_1__.RoomStorage.addItem(key.toUpperCase(), itemData);\n        if (!item) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Room not found or expired\"\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            item\n        });\n    } catch (error) {\n        console.error(\"Error adding item:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to add item\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request, { params }) {\n    try {\n        const { key } = params;\n        if (!(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.validateRoomKey)(key)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Invalid room key format\"\n            }, {\n                status: 400\n            });\n        }\n        const room = await _lib_storage__WEBPACK_IMPORTED_MODULE_1__.RoomStorage.getRoom(key.toUpperCase());\n        if (!room) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Room not found or expired\"\n            }, {\n                status: 404\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            items: room.items\n        });\n    } catch (error) {\n        console.error(\"Error getting items:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to get items\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3Jvb21zL1trZXldL2l0ZW1zL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVEO0FBQ1o7QUFDRTtBQUd0QyxlQUFlRyxLQUNwQkMsT0FBb0IsRUFDcEIsRUFBRUMsTUFBTSxFQUErQjtJQUV2QyxJQUFJO1FBQ0YsTUFBTSxFQUFFQyxHQUFHLEVBQUUsR0FBR0Q7UUFDaEIsTUFBTUUsV0FBVyxNQUFNSCxRQUFRSSxJQUFJO1FBRW5DLElBQUksQ0FBQ04sMkRBQWVBLENBQUNJLE1BQU07WUFDekIsT0FBT04scURBQVlBLENBQUNRLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7Z0JBQU9DLE9BQU87WUFBMEIsR0FDbkQ7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLDJCQUEyQjtRQUMzQixJQUFJLENBQUNKLFNBQVNLLElBQUksSUFBSSxDQUFDTCxTQUFTTSxPQUFPLEVBQUU7WUFDdkMsT0FBT2IscURBQVlBLENBQUNRLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7Z0JBQU9DLE9BQU87WUFBZ0MsR0FDekQ7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1HLE9BQU8sTUFBTWIscURBQVdBLENBQUNjLE9BQU8sQ0FBQ1QsSUFBSVUsV0FBVyxJQUFJVDtRQUUxRCxJQUFJLENBQUNPLE1BQU07WUFDVCxPQUFPZCxxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtnQkFBRUMsU0FBUztnQkFBT0MsT0FBTztZQUE0QixHQUNyRDtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsT0FBT1gscURBQVlBLENBQUNRLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUSztRQUNGO0lBQ0YsRUFBRSxPQUFPSixPQUFPO1FBQ2RPLFFBQVFQLEtBQUssQ0FBQyxzQkFBc0JBO1FBQ3BDLE9BQU9WLHFEQUFZQSxDQUFDUSxJQUFJLENBQ3RCO1lBQUVDLFNBQVM7WUFBT0MsT0FBTztRQUFxQixHQUM5QztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRjtBQUVPLGVBQWVPLElBQ3BCZCxPQUFvQixFQUNwQixFQUFFQyxNQUFNLEVBQStCO0lBRXZDLElBQUk7UUFDRixNQUFNLEVBQUVDLEdBQUcsRUFBRSxHQUFHRDtRQUVoQixJQUFJLENBQUNILDJEQUFlQSxDQUFDSSxNQUFNO1lBQ3pCLE9BQU9OLHFEQUFZQSxDQUFDUSxJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPQyxPQUFPO1lBQTBCLEdBQ25EO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNUSxPQUFPLE1BQU1sQixxREFBV0EsQ0FBQ21CLE9BQU8sQ0FBQ2QsSUFBSVUsV0FBVztRQUV0RCxJQUFJLENBQUNHLE1BQU07WUFDVCxPQUFPbkIscURBQVlBLENBQUNRLElBQUksQ0FDdEI7Z0JBQUVDLFNBQVM7Z0JBQU9DLE9BQU87WUFBNEIsR0FDckQ7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU9YLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFDdkJDLFNBQVM7WUFDVFksT0FBT0YsS0FBS0UsS0FBSztRQUNuQjtJQUNGLEVBQUUsT0FBT1gsT0FBTztRQUNkTyxRQUFRUCxLQUFLLENBQUMsd0JBQXdCQTtRQUN0QyxPQUFPVixxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1lBQU9DLE9BQU87UUFBc0IsR0FDL0M7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub3RlLXRha2luZy1hcHAvLi9hcHAvYXBpL3Jvb21zL1trZXldL2l0ZW1zL3JvdXRlLnRzPzY2YmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBSb29tU3RvcmFnZSB9IGZyb20gJ0AvbGliL3N0b3JhZ2UnXHJcbmltcG9ydCB7IHZhbGlkYXRlUm9vbUtleSB9IGZyb20gJ0AvbGliL3V0aWxzJ1xyXG5pbXBvcnQgeyBOb3RlSXRlbSB9IGZyb20gJ0AvbGliL3R5cGVzJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QoXHJcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXHJcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsga2V5OiBzdHJpbmcgfSB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGtleSB9ID0gcGFyYW1zXHJcbiAgICBjb25zdCBpdGVtRGF0YSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcbiAgICBcclxuICAgIGlmICghdmFsaWRhdGVSb29tS2V5KGtleSkpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnSW52YWxpZCByb29tIGtleSBmb3JtYXQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXHJcbiAgICBpZiAoIWl0ZW1EYXRhLnR5cGUgfHwgIWl0ZW1EYXRhLmNvbnRlbnQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVHlwZSBhbmQgY29udGVudCBhcmUgcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgaXRlbSA9IGF3YWl0IFJvb21TdG9yYWdlLmFkZEl0ZW0oa2V5LnRvVXBwZXJDYXNlKCksIGl0ZW1EYXRhKVxyXG4gICAgXHJcbiAgICBpZiAoIWl0ZW0pIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnUm9vbSBub3QgZm91bmQgb3IgZXhwaXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBpdGVtXHJcbiAgICB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgaXRlbTonLCBlcnJvcilcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gYWRkIGl0ZW0nIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBrZXk6IHN0cmluZyB9IH1cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsga2V5IH0gPSBwYXJhbXNcclxuICAgIFxyXG4gICAgaWYgKCF2YWxpZGF0ZVJvb21LZXkoa2V5KSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIHJvb20ga2V5IGZvcm1hdCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByb29tID0gYXdhaXQgUm9vbVN0b3JhZ2UuZ2V0Um9vbShrZXkudG9VcHBlckNhc2UoKSlcclxuICAgIFxyXG4gICAgaWYgKCFyb29tKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Jvb20gbm90IGZvdW5kIG9yIGV4cGlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgIClcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgaXRlbXM6IHJvb20uaXRlbXNcclxuICAgIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgaXRlbXM6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIGdldCBpdGVtcycgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJSb29tU3RvcmFnZSIsInZhbGlkYXRlUm9vbUtleSIsIlBPU1QiLCJyZXF1ZXN0IiwicGFyYW1zIiwia2V5IiwiaXRlbURhdGEiLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwic3RhdHVzIiwidHlwZSIsImNvbnRlbnQiLCJpdGVtIiwiYWRkSXRlbSIsInRvVXBwZXJDYXNlIiwiY29uc29sZSIsIkdFVCIsInJvb20iLCJnZXRSb29tIiwiaXRlbXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/rooms/[key]/items/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/storage.ts":
/*!************************!*\
  !*** ./lib/storage.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RoomStorage: () => (/* binding */ RoomStorage)\n/* harmony export */ });\n// Server-side database functions\nlet pool = null;\nasync function getPool() {\n    if (false) {}\n    if (!pool) {\n        const { Pool } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! pg */ \"pg\"));\n        pool = new Pool({\n            connectionString: process.env.DATABASE_URL,\n            ssl: {\n                rejectUnauthorized: false\n            },\n            min: parseInt(process.env.DB_POOL_MIN || \"2\"),\n            max: parseInt(process.env.DB_POOL_MAX || \"10\"),\n            idleTimeoutMillis: 30000,\n            connectionTimeoutMillis: 2000\n        });\n        pool.on(\"error\", (err)=>{\n            console.error(\"Unexpected error on idle client\", err);\n        });\n    }\n    return pool;\n}\nasync function query(text, params) {\n    const pool = await getPool();\n    const start = Date.now();\n    try {\n        const res = await pool.query(text, params);\n        const duration = Date.now() - start;\n        console.log(\"Executed query\", {\n            text,\n            duration,\n            rows: res.rowCount\n        });\n        return res;\n    } catch (error) {\n        console.error(\"Database query error\", {\n            text,\n            error\n        });\n        throw error;\n    }\n}\nclass RoomStorage {\n    static async createRoom(key, theme = \"dark\") {\n        const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000) // 24 hours\n        ;\n        const result = await query(\"INSERT INTO rooms (id, key, theme, expires_at) VALUES ($1, $2, $3, $4) RETURNING *\", [\n            key,\n            key,\n            theme,\n            expiresAt\n        ]);\n        const roomData = result.rows[0];\n        return {\n            id: roomData.id,\n            key: roomData.key,\n            name: roomData.name,\n            items: [],\n            createdAt: new Date(roomData.created_at),\n            expiresAt: new Date(roomData.expires_at),\n            theme: roomData.theme\n        };\n    }\n    static async getRoom(key) {\n        const result = await query(\"SELECT * FROM rooms WHERE key = $1 AND expires_at > NOW()\", [\n            key\n        ]);\n        if (result.rows.length === 0) {\n            return null;\n        }\n        const roomData = result.rows[0];\n        // Get items for this room\n        const itemsResult = await query(\"SELECT * FROM items WHERE room_key = $1 ORDER BY created_at ASC\", [\n            key\n        ]);\n        const items = itemsResult.rows.map((item)=>({\n                id: item.id,\n                type: item.type,\n                content: item.content,\n                filename: item.filename,\n                language: item.language,\n                size: item.size,\n                position: {\n                    x: item.position_x,\n                    y: item.position_y\n                },\n                dimensions: {\n                    width: item.width,\n                    height: item.height\n                },\n                createdAt: new Date(item.created_at)\n            }));\n        return {\n            id: roomData.id,\n            key: roomData.key,\n            name: roomData.name,\n            items,\n            createdAt: new Date(roomData.created_at),\n            expiresAt: new Date(roomData.expires_at),\n            theme: roomData.theme\n        };\n    }\n    static async updateRoom(key, updates) {\n        const setClause = [];\n        const values = [];\n        let paramCount = 1;\n        if (updates.name !== undefined) {\n            setClause.push(`name = $${paramCount++}`);\n            values.push(updates.name);\n        }\n        if (updates.theme !== undefined) {\n            setClause.push(`theme = $${paramCount++}`);\n            values.push(updates.theme);\n        }\n        if (setClause.length === 0) {\n            return await this.getRoom(key);\n        }\n        values.push(key);\n        const result = await query(`UPDATE rooms SET ${setClause.join(\", \")} WHERE key = $${paramCount} RETURNING *`, values);\n        if (result.rows.length === 0) {\n            return null;\n        }\n        return await this.getRoom(key);\n    }\n    static async addItem(roomKey, item) {\n        const itemId = Math.random().toString(36).substr(2, 9);\n        const result = await query(`INSERT INTO items (\r\n        id, room_key, type, content, filename, language, size,\r\n        position_x, position_y, width, height\r\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING *`, [\n            itemId,\n            roomKey,\n            item.type,\n            item.content,\n            item.filename || null,\n            item.language || null,\n            item.size || null,\n            Math.round(item.position.x),\n            Math.round(item.position.y),\n            Math.round(item.dimensions.width),\n            Math.round(item.dimensions.height)\n        ]);\n        const itemData = result.rows[0];\n        return {\n            id: itemData.id,\n            type: itemData.type,\n            content: itemData.content,\n            filename: itemData.filename,\n            language: itemData.language,\n            size: itemData.size,\n            position: {\n                x: itemData.position_x,\n                y: itemData.position_y\n            },\n            dimensions: {\n                width: itemData.width,\n                height: itemData.height\n            },\n            createdAt: new Date(itemData.created_at)\n        };\n    }\n    static async updateItem(roomKey, itemId, updates) {\n        const setClause = [];\n        const values = [];\n        let paramCount = 1;\n        if (updates.type !== undefined) {\n            setClause.push(`type = $${paramCount++}`);\n            values.push(updates.type);\n        }\n        if (updates.content !== undefined) {\n            setClause.push(`content = $${paramCount++}`);\n            values.push(updates.content);\n        }\n        if (updates.filename !== undefined) {\n            setClause.push(`filename = $${paramCount++}`);\n            values.push(updates.filename);\n        }\n        if (updates.language !== undefined) {\n            setClause.push(`language = $${paramCount++}`);\n            values.push(updates.language);\n        }\n        if (updates.size !== undefined) {\n            setClause.push(`size = $${paramCount++}`);\n            values.push(updates.size);\n        }\n        if (updates.position !== undefined) {\n            setClause.push(`position_x = $${paramCount++}`);\n            values.push(Math.round(updates.position.x));\n            setClause.push(`position_y = $${paramCount++}`);\n            values.push(Math.round(updates.position.y));\n        }\n        if (updates.dimensions !== undefined) {\n            setClause.push(`width = $${paramCount++}`);\n            values.push(Math.round(updates.dimensions.width));\n            setClause.push(`height = $${paramCount++}`);\n            values.push(Math.round(updates.dimensions.height));\n        }\n        if (setClause.length === 0) {\n            return null;\n        }\n        values.push(itemId, roomKey);\n        const result = await query(`UPDATE items SET ${setClause.join(\", \")} WHERE id = $${paramCount} AND room_key = $${paramCount + 1} RETURNING *`, values);\n        if (result.rows.length === 0) {\n            return null;\n        }\n        const itemData = result.rows[0];\n        return {\n            id: itemData.id,\n            type: itemData.type,\n            content: itemData.content,\n            filename: itemData.filename,\n            language: itemData.language,\n            size: itemData.size,\n            position: {\n                x: itemData.position_x,\n                y: itemData.position_y\n            },\n            dimensions: {\n                width: itemData.width,\n                height: itemData.height\n            },\n            createdAt: new Date(itemData.created_at)\n        };\n    }\n    static async removeItem(roomKey, itemId) {\n        const result = await query(\"DELETE FROM items WHERE id = $1 AND room_key = $2\", [\n            itemId,\n            roomKey\n        ]);\n        return result.rowCount > 0;\n    }\n    static async clearRoom(roomKey) {\n        const result = await query(\"DELETE FROM items WHERE room_key = $1\", [\n            roomKey\n        ]);\n        return true // Always return true, even if no items were deleted\n        ;\n    }\n    static async deleteRoom(roomKey) {\n        const result = await query(\"DELETE FROM rooms WHERE key = $1\", [\n            roomKey\n        ]);\n        return result.rowCount > 0;\n    }\n    // Cleanup expired rooms\n    static async cleanupExpiredRooms() {\n        const result = await query(\"DELETE FROM rooms WHERE expires_at <= NOW()\");\n        return result.rowCount || 0;\n    }\n    // Get room statistics\n    static async getStats() {\n        const roomsResult = await query(\"SELECT COUNT(*) as count FROM rooms WHERE expires_at > NOW()\");\n        const itemsResult = await query(\"SELECT COUNT(*) as count FROM items i JOIN rooms r ON i.room_key = r.key WHERE r.expires_at > NOW()\");\n        return {\n            totalRooms: parseInt(roomsResult.rows[0].count),\n            totalItems: parseInt(itemsResult.rows[0].count)\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXNDb250ZW50IjpbImltcG9ydCB7IFJvb20sIE5vdGVJdGVtIH0gZnJvbSAnLi90eXBlcydcclxuXHJcbi8vIFNlcnZlci1zaWRlIGRhdGFiYXNlIGZ1bmN0aW9uc1xyXG5sZXQgcG9vbDogYW55ID0gbnVsbFxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0UG9vbCgpIHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgcXVlcmllcyBjYW4gb25seSBiZSBydW4gb24gdGhlIHNlcnZlcicpXHJcbiAgfVxyXG4gIFxyXG4gIGlmICghcG9vbCkge1xyXG4gICAgY29uc3QgeyBQb29sIH0gPSBhd2FpdCBpbXBvcnQoJ3BnJylcclxuICAgIFxyXG4gICAgcG9vbCA9IG5ldyBQb29sKHtcclxuICAgICAgY29ubmVjdGlvblN0cmluZzogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLFxyXG4gICAgICBzc2w6IHtcclxuICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlXHJcbiAgICAgIH0sXHJcbiAgICAgIG1pbjogcGFyc2VJbnQocHJvY2Vzcy5lbnYuREJfUE9PTF9NSU4gfHwgJzInKSxcclxuICAgICAgbWF4OiBwYXJzZUludChwcm9jZXNzLmVudi5EQl9QT09MX01BWCB8fCAnMTAnKSxcclxuICAgICAgaWRsZVRpbWVvdXRNaWxsaXM6IDMwMDAwLFxyXG4gICAgICBjb25uZWN0aW9uVGltZW91dE1pbGxpczogMjAwMCxcclxuICAgIH0pXHJcblxyXG4gICAgcG9vbC5vbignZXJyb3InLCAoZXJyOiBhbnkpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBlcnJvciBvbiBpZGxlIGNsaWVudCcsIGVycilcclxuICAgIH0pXHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBwb29sXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KHRleHQ6IHN0cmluZywgcGFyYW1zPzogYW55W10pOiBQcm9taXNlPGFueT4ge1xyXG4gIGNvbnN0IHBvb2wgPSBhd2FpdCBnZXRQb29sKClcclxuICBjb25zdCBzdGFydCA9IERhdGUubm93KClcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgcG9vbC5xdWVyeSh0ZXh0LCBwYXJhbXMpXHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFxyXG4gICAgY29uc29sZS5sb2coJ0V4ZWN1dGVkIHF1ZXJ5JywgeyB0ZXh0LCBkdXJhdGlvbiwgcm93czogcmVzLnJvd0NvdW50IH0pXHJcbiAgICByZXR1cm4gcmVzXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIHF1ZXJ5IGVycm9yJywgeyB0ZXh0LCBlcnJvciB9KVxyXG4gICAgdGhyb3cgZXJyb3JcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBSb29tU3RvcmFnZSB7XHJcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZVJvb20oa2V5OiBzdHJpbmcsIHRoZW1lOiAnZGFyaycgfCAnbGlnaHQnID0gJ2RhcmsnKTogUHJvbWlzZTxSb29tPiB7XHJcbiAgICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgMjQgKiA2MCAqIDYwICogMTAwMCkgLy8gMjQgaG91cnNcclxuICAgIFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXHJcbiAgICAgICdJTlNFUlQgSU5UTyByb29tcyAoaWQsIGtleSwgdGhlbWUsIGV4cGlyZXNfYXQpIFZBTFVFUyAoJDEsICQyLCAkMywgJDQpIFJFVFVSTklORyAqJyxcclxuICAgICAgW2tleSwga2V5LCB0aGVtZSwgZXhwaXJlc0F0XVxyXG4gICAgKVxyXG4gICAgXHJcbiAgICBjb25zdCByb29tRGF0YSA9IHJlc3VsdC5yb3dzWzBdXHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiByb29tRGF0YS5pZCxcclxuICAgICAga2V5OiByb29tRGF0YS5rZXksXHJcbiAgICAgIG5hbWU6IHJvb21EYXRhLm5hbWUsXHJcbiAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShyb29tRGF0YS5jcmVhdGVkX2F0KSxcclxuICAgICAgZXhwaXJlc0F0OiBuZXcgRGF0ZShyb29tRGF0YS5leHBpcmVzX2F0KSxcclxuICAgICAgdGhlbWU6IHJvb21EYXRhLnRoZW1lXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYXN5bmMgZ2V0Um9vbShrZXk6IHN0cmluZyk6IFByb21pc2U8Um9vbSB8IG51bGw+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5KFxyXG4gICAgICAnU0VMRUNUICogRlJPTSByb29tcyBXSEVSRSBrZXkgPSAkMSBBTkQgZXhwaXJlc19hdCA+IE5PVygpJyxcclxuICAgICAgW2tleV1cclxuICAgIClcclxuICAgIFxyXG4gICAgaWYgKHJlc3VsdC5yb3dzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCByb29tRGF0YSA9IHJlc3VsdC5yb3dzWzBdXHJcbiAgICBcclxuICAgIC8vIEdldCBpdGVtcyBmb3IgdGhpcyByb29tXHJcbiAgICBjb25zdCBpdGVtc1Jlc3VsdCA9IGF3YWl0IHF1ZXJ5KFxyXG4gICAgICAnU0VMRUNUICogRlJPTSBpdGVtcyBXSEVSRSByb29tX2tleSA9ICQxIE9SREVSIEJZIGNyZWF0ZWRfYXQgQVNDJyxcclxuICAgICAgW2tleV1cclxuICAgIClcclxuICAgIFxyXG4gICAgY29uc3QgaXRlbXM6IE5vdGVJdGVtW10gPSBpdGVtc1Jlc3VsdC5yb3dzLm1hcCgoaXRlbTogYW55KSA9PiAoe1xyXG4gICAgICBpZDogaXRlbS5pZCxcclxuICAgICAgdHlwZTogaXRlbS50eXBlLFxyXG4gICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQsXHJcbiAgICAgIGZpbGVuYW1lOiBpdGVtLmZpbGVuYW1lLFxyXG4gICAgICBsYW5ndWFnZTogaXRlbS5sYW5ndWFnZSxcclxuICAgICAgc2l6ZTogaXRlbS5zaXplLFxyXG4gICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgIHg6IGl0ZW0ucG9zaXRpb25feCxcclxuICAgICAgICB5OiBpdGVtLnBvc2l0aW9uX3lcclxuICAgICAgfSxcclxuICAgICAgZGltZW5zaW9uczoge1xyXG4gICAgICAgIHdpZHRoOiBpdGVtLndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogaXRlbS5oZWlnaHRcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShpdGVtLmNyZWF0ZWRfYXQpXHJcbiAgICB9KSlcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6IHJvb21EYXRhLmlkLFxyXG4gICAgICBrZXk6IHJvb21EYXRhLmtleSxcclxuICAgICAgbmFtZTogcm9vbURhdGEubmFtZSxcclxuICAgICAgaXRlbXMsXHJcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUocm9vbURhdGEuY3JlYXRlZF9hdCksXHJcbiAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUocm9vbURhdGEuZXhwaXJlc19hdCksXHJcbiAgICAgIHRoZW1lOiByb29tRGF0YS50aGVtZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFzeW5jIHVwZGF0ZVJvb20oa2V5OiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8Um9vbT4pOiBQcm9taXNlPFJvb20gfCBudWxsPiB7XHJcbiAgICBjb25zdCBzZXRDbGF1c2UgPSBbXVxyXG4gICAgY29uc3QgdmFsdWVzID0gW11cclxuICAgIGxldCBwYXJhbUNvdW50ID0gMVxyXG4gICAgXHJcbiAgICBpZiAodXBkYXRlcy5uYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgc2V0Q2xhdXNlLnB1c2goYG5hbWUgPSAkJHtwYXJhbUNvdW50Kyt9YClcclxuICAgICAgdmFsdWVzLnB1c2godXBkYXRlcy5uYW1lKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAodXBkYXRlcy50aGVtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHNldENsYXVzZS5wdXNoKGB0aGVtZSA9ICQke3BhcmFtQ291bnQrK31gKVxyXG4gICAgICB2YWx1ZXMucHVzaCh1cGRhdGVzLnRoZW1lKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc2V0Q2xhdXNlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRSb29tKGtleSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgdmFsdWVzLnB1c2goa2V5KVxyXG4gICAgXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBxdWVyeShcclxuICAgICAgYFVQREFURSByb29tcyBTRVQgJHtzZXRDbGF1c2Uuam9pbignLCAnKX0gV0hFUkUga2V5ID0gJCR7cGFyYW1Db3VudH0gUkVUVVJOSU5HICpgLFxyXG4gICAgICB2YWx1ZXNcclxuICAgIClcclxuICAgIFxyXG4gICAgaWYgKHJlc3VsdC5yb3dzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRSb29tKGtleSlcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBhZGRJdGVtKHJvb21LZXk6IHN0cmluZywgaXRlbTogT21pdDxOb3RlSXRlbSwgJ2lkJyB8ICdjcmVhdGVkQXQnPik6IFByb21pc2U8Tm90ZUl0ZW0gfCBudWxsPiB7XHJcbiAgICBjb25zdCBpdGVtSWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSlcclxuICAgIFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXHJcbiAgICAgIGBJTlNFUlQgSU5UTyBpdGVtcyAoXHJcbiAgICAgICAgaWQsIHJvb21fa2V5LCB0eXBlLCBjb250ZW50LCBmaWxlbmFtZSwgbGFuZ3VhZ2UsIHNpemUsXHJcbiAgICAgICAgcG9zaXRpb25feCwgcG9zaXRpb25feSwgd2lkdGgsIGhlaWdodFxyXG4gICAgICApIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgJDcsICQ4LCAkOSwgJDEwLCAkMTEpIFJFVFVSTklORyAqYCxcclxuICAgICAgW1xyXG4gICAgICAgIGl0ZW1JZCxcclxuICAgICAgICByb29tS2V5LFxyXG4gICAgICAgIGl0ZW0udHlwZSxcclxuICAgICAgICBpdGVtLmNvbnRlbnQsXHJcbiAgICAgICAgaXRlbS5maWxlbmFtZSB8fCBudWxsLFxyXG4gICAgICAgIGl0ZW0ubGFuZ3VhZ2UgfHwgbnVsbCxcclxuICAgICAgICBpdGVtLnNpemUgfHwgbnVsbCxcclxuICAgICAgICBNYXRoLnJvdW5kKGl0ZW0ucG9zaXRpb24ueCksXHJcbiAgICAgICAgTWF0aC5yb3VuZChpdGVtLnBvc2l0aW9uLnkpLFxyXG4gICAgICAgIE1hdGgucm91bmQoaXRlbS5kaW1lbnNpb25zLndpZHRoKSxcclxuICAgICAgICBNYXRoLnJvdW5kKGl0ZW0uZGltZW5zaW9ucy5oZWlnaHQpXHJcbiAgICAgIF1cclxuICAgIClcclxuICAgIFxyXG4gICAgY29uc3QgaXRlbURhdGEgPSByZXN1bHQucm93c1swXVxyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogaXRlbURhdGEuaWQsXHJcbiAgICAgIHR5cGU6IGl0ZW1EYXRhLnR5cGUsXHJcbiAgICAgIGNvbnRlbnQ6IGl0ZW1EYXRhLmNvbnRlbnQsXHJcbiAgICAgIGZpbGVuYW1lOiBpdGVtRGF0YS5maWxlbmFtZSxcclxuICAgICAgbGFuZ3VhZ2U6IGl0ZW1EYXRhLmxhbmd1YWdlLFxyXG4gICAgICBzaXplOiBpdGVtRGF0YS5zaXplLFxyXG4gICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgIHg6IGl0ZW1EYXRhLnBvc2l0aW9uX3gsXHJcbiAgICAgICAgeTogaXRlbURhdGEucG9zaXRpb25feVxyXG4gICAgICB9LFxyXG4gICAgICBkaW1lbnNpb25zOiB7XHJcbiAgICAgICAgd2lkdGg6IGl0ZW1EYXRhLndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogaXRlbURhdGEuaGVpZ2h0XHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoaXRlbURhdGEuY3JlYXRlZF9hdClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyB1cGRhdGVJdGVtKHJvb21LZXk6IHN0cmluZywgaXRlbUlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8Tm90ZUl0ZW0+KTogUHJvbWlzZTxOb3RlSXRlbSB8IG51bGw+IHtcclxuICAgIGNvbnN0IHNldENsYXVzZSA9IFtdXHJcbiAgICBjb25zdCB2YWx1ZXMgPSBbXVxyXG4gICAgbGV0IHBhcmFtQ291bnQgPSAxXHJcbiAgICBcclxuICAgIGlmICh1cGRhdGVzLnR5cGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBzZXRDbGF1c2UucHVzaChgdHlwZSA9ICQke3BhcmFtQ291bnQrK31gKVxyXG4gICAgICB2YWx1ZXMucHVzaCh1cGRhdGVzLnR5cGUpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh1cGRhdGVzLmNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBzZXRDbGF1c2UucHVzaChgY29udGVudCA9ICQke3BhcmFtQ291bnQrK31gKVxyXG4gICAgICB2YWx1ZXMucHVzaCh1cGRhdGVzLmNvbnRlbnQpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh1cGRhdGVzLmZpbGVuYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgc2V0Q2xhdXNlLnB1c2goYGZpbGVuYW1lID0gJCR7cGFyYW1Db3VudCsrfWApXHJcbiAgICAgIHZhbHVlcy5wdXNoKHVwZGF0ZXMuZmlsZW5hbWUpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh1cGRhdGVzLmxhbmd1YWdlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgc2V0Q2xhdXNlLnB1c2goYGxhbmd1YWdlID0gJCR7cGFyYW1Db3VudCsrfWApXHJcbiAgICAgIHZhbHVlcy5wdXNoKHVwZGF0ZXMubGFuZ3VhZ2UpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh1cGRhdGVzLnNpemUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBzZXRDbGF1c2UucHVzaChgc2l6ZSA9ICQke3BhcmFtQ291bnQrK31gKVxyXG4gICAgICB2YWx1ZXMucHVzaCh1cGRhdGVzLnNpemUpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh1cGRhdGVzLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgc2V0Q2xhdXNlLnB1c2goYHBvc2l0aW9uX3ggPSAkJHtwYXJhbUNvdW50Kyt9YClcclxuICAgICAgdmFsdWVzLnB1c2goTWF0aC5yb3VuZCh1cGRhdGVzLnBvc2l0aW9uLngpKVxyXG4gICAgICBzZXRDbGF1c2UucHVzaChgcG9zaXRpb25feSA9ICQke3BhcmFtQ291bnQrK31gKVxyXG4gICAgICB2YWx1ZXMucHVzaChNYXRoLnJvdW5kKHVwZGF0ZXMucG9zaXRpb24ueSkpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh1cGRhdGVzLmRpbWVuc2lvbnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBzZXRDbGF1c2UucHVzaChgd2lkdGggPSAkJHtwYXJhbUNvdW50Kyt9YClcclxuICAgICAgdmFsdWVzLnB1c2goTWF0aC5yb3VuZCh1cGRhdGVzLmRpbWVuc2lvbnMud2lkdGgpKVxyXG4gICAgICBzZXRDbGF1c2UucHVzaChgaGVpZ2h0ID0gJCR7cGFyYW1Db3VudCsrfWApXHJcbiAgICAgIHZhbHVlcy5wdXNoKE1hdGgucm91bmQodXBkYXRlcy5kaW1lbnNpb25zLmhlaWdodCkpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzZXRDbGF1c2UubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHZhbHVlcy5wdXNoKGl0ZW1JZCwgcm9vbUtleSlcclxuICAgIFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXHJcbiAgICAgIGBVUERBVEUgaXRlbXMgU0VUICR7c2V0Q2xhdXNlLmpvaW4oJywgJyl9IFdIRVJFIGlkID0gJCR7cGFyYW1Db3VudH0gQU5EIHJvb21fa2V5ID0gJCR7cGFyYW1Db3VudCArIDF9IFJFVFVSTklORyAqYCxcclxuICAgICAgdmFsdWVzXHJcbiAgICApXHJcbiAgICBcclxuICAgIGlmIChyZXN1bHQucm93cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgaXRlbURhdGEgPSByZXN1bHQucm93c1swXVxyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogaXRlbURhdGEuaWQsXHJcbiAgICAgIHR5cGU6IGl0ZW1EYXRhLnR5cGUsXHJcbiAgICAgIGNvbnRlbnQ6IGl0ZW1EYXRhLmNvbnRlbnQsXHJcbiAgICAgIGZpbGVuYW1lOiBpdGVtRGF0YS5maWxlbmFtZSxcclxuICAgICAgbGFuZ3VhZ2U6IGl0ZW1EYXRhLmxhbmd1YWdlLFxyXG4gICAgICBzaXplOiBpdGVtRGF0YS5zaXplLFxyXG4gICAgICBwb3NpdGlvbjoge1xyXG4gICAgICAgIHg6IGl0ZW1EYXRhLnBvc2l0aW9uX3gsXHJcbiAgICAgICAgeTogaXRlbURhdGEucG9zaXRpb25feVxyXG4gICAgICB9LFxyXG4gICAgICBkaW1lbnNpb25zOiB7XHJcbiAgICAgICAgd2lkdGg6IGl0ZW1EYXRhLndpZHRoLFxyXG4gICAgICAgIGhlaWdodDogaXRlbURhdGEuaGVpZ2h0XHJcbiAgICAgIH0sXHJcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoaXRlbURhdGEuY3JlYXRlZF9hdClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyByZW1vdmVJdGVtKHJvb21LZXk6IHN0cmluZywgaXRlbUlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5KFxyXG4gICAgICAnREVMRVRFIEZST00gaXRlbXMgV0hFUkUgaWQgPSAkMSBBTkQgcm9vbV9rZXkgPSAkMicsXHJcbiAgICAgIFtpdGVtSWQsIHJvb21LZXldXHJcbiAgICApXHJcbiAgICBcclxuICAgIHJldHVybiByZXN1bHQucm93Q291bnQgPiAwXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYXN5bmMgY2xlYXJSb29tKHJvb21LZXk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXHJcbiAgICAgICdERUxFVEUgRlJPTSBpdGVtcyBXSEVSRSByb29tX2tleSA9ICQxJyxcclxuICAgICAgW3Jvb21LZXldXHJcbiAgICApXHJcbiAgICBcclxuICAgIHJldHVybiB0cnVlIC8vIEFsd2F5cyByZXR1cm4gdHJ1ZSwgZXZlbiBpZiBubyBpdGVtcyB3ZXJlIGRlbGV0ZWRcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBkZWxldGVSb29tKHJvb21LZXk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcXVlcnkoXHJcbiAgICAgICdERUxFVEUgRlJPTSByb29tcyBXSEVSRSBrZXkgPSAkMScsXHJcbiAgICAgIFtyb29tS2V5XVxyXG4gICAgKVxyXG4gICAgXHJcbiAgICByZXR1cm4gcmVzdWx0LnJvd0NvdW50ID4gMFxyXG4gIH1cclxuXHJcbiAgLy8gQ2xlYW51cCBleHBpcmVkIHJvb21zXHJcbiAgc3RhdGljIGFzeW5jIGNsZWFudXBFeHBpcmVkUm9vbXMoKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5KFxyXG4gICAgICAnREVMRVRFIEZST00gcm9vbXMgV0hFUkUgZXhwaXJlc19hdCA8PSBOT1coKSdcclxuICAgIClcclxuICAgIFxyXG4gICAgcmV0dXJuIHJlc3VsdC5yb3dDb3VudCB8fCAwXHJcbiAgfVxyXG5cclxuICAvLyBHZXQgcm9vbSBzdGF0aXN0aWNzXHJcbiAgc3RhdGljIGFzeW5jIGdldFN0YXRzKCk6IFByb21pc2U8eyB0b3RhbFJvb21zOiBudW1iZXI7IHRvdGFsSXRlbXM6IG51bWJlciB9PiB7XHJcbiAgICBjb25zdCByb29tc1Jlc3VsdCA9IGF3YWl0IHF1ZXJ5KCdTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSByb29tcyBXSEVSRSBleHBpcmVzX2F0ID4gTk9XKCknKVxyXG4gICAgY29uc3QgaXRlbXNSZXN1bHQgPSBhd2FpdCBxdWVyeSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gaXRlbXMgaSBKT0lOIHJvb21zIHIgT04gaS5yb29tX2tleSA9IHIua2V5IFdIRVJFIHIuZXhwaXJlc19hdCA+IE5PVygpJylcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxSb29tczogcGFyc2VJbnQocm9vbXNSZXN1bHQucm93c1swXS5jb3VudCksXHJcbiAgICAgIHRvdGFsSXRlbXM6IHBhcnNlSW50KGl0ZW1zUmVzdWx0LnJvd3NbMF0uY291bnQpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJwb29sIiwiZ2V0UG9vbCIsIkVycm9yIiwiUG9vbCIsImNvbm5lY3Rpb25TdHJpbmciLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwic3NsIiwicmVqZWN0VW5hdXRob3JpemVkIiwibWluIiwicGFyc2VJbnQiLCJEQl9QT09MX01JTiIsIm1heCIsIkRCX1BPT0xfTUFYIiwiaWRsZVRpbWVvdXRNaWxsaXMiLCJjb25uZWN0aW9uVGltZW91dE1pbGxpcyIsIm9uIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwicXVlcnkiLCJ0ZXh0IiwicGFyYW1zIiwic3RhcnQiLCJEYXRlIiwibm93IiwicmVzIiwiZHVyYXRpb24iLCJsb2ciLCJyb3dzIiwicm93Q291bnQiLCJSb29tU3RvcmFnZSIsImNyZWF0ZVJvb20iLCJrZXkiLCJ0aGVtZSIsImV4cGlyZXNBdCIsInJlc3VsdCIsInJvb21EYXRhIiwiaWQiLCJuYW1lIiwiaXRlbXMiLCJjcmVhdGVkQXQiLCJjcmVhdGVkX2F0IiwiZXhwaXJlc19hdCIsImdldFJvb20iLCJsZW5ndGgiLCJpdGVtc1Jlc3VsdCIsIm1hcCIsIml0ZW0iLCJ0eXBlIiwiY29udGVudCIsImZpbGVuYW1lIiwibGFuZ3VhZ2UiLCJzaXplIiwicG9zaXRpb24iLCJ4IiwicG9zaXRpb25feCIsInkiLCJwb3NpdGlvbl95IiwiZGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwidXBkYXRlUm9vbSIsInVwZGF0ZXMiLCJzZXRDbGF1c2UiLCJ2YWx1ZXMiLCJwYXJhbUNvdW50IiwidW5kZWZpbmVkIiwicHVzaCIsImpvaW4iLCJhZGRJdGVtIiwicm9vbUtleSIsIml0ZW1JZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsInJvdW5kIiwiaXRlbURhdGEiLCJ1cGRhdGVJdGVtIiwicmVtb3ZlSXRlbSIsImNsZWFyUm9vbSIsImRlbGV0ZVJvb20iLCJjbGVhbnVwRXhwaXJlZFJvb21zIiwiZ2V0U3RhdHMiLCJyb29tc1Jlc3VsdCIsInRvdGFsUm9vbXMiLCJjb3VudCIsInRvdGFsSXRlbXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/storage.ts\n");

/***/ }),

/***/ "(rsc)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   formatFileSize: () => (/* binding */ formatFileSize),\n/* harmony export */   generateRoomKey: () => (/* binding */ generateRoomKey),\n/* harmony export */   getFileExtension: () => (/* binding */ getFileExtension),\n/* harmony export */   getLanguageFromExtension: () => (/* binding */ getLanguageFromExtension),\n/* harmony export */   getTimeRemaining: () => (/* binding */ getTimeRemaining),\n/* harmony export */   isCodeFile: () => (/* binding */ isCodeFile),\n/* harmony export */   validateRoomKey: () => (/* binding */ validateRoomKey)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nfunction generateRoomKey() {\n    const chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n    let result = \"\";\n    for(let i = 0; i < 10; i++){\n        result += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    return result;\n}\nfunction validateRoomKey(key) {\n    return /^[A-Z0-9]{10}$/.test(key);\n}\nfunction getFileExtension(filename) {\n    return filename.split(\".\").pop()?.toLowerCase() || \"\";\n}\nfunction isCodeFile(filename) {\n    const codeExtensions = [\n        \"js\",\n        \"ts\",\n        \"jsx\",\n        \"tsx\",\n        \"py\",\n        \"java\",\n        \"cpp\",\n        \"c\",\n        \"cs\",\n        \"php\",\n        \"rb\",\n        \"go\",\n        \"rs\",\n        \"swift\",\n        \"kt\",\n        \"html\",\n        \"css\",\n        \"scss\",\n        \"sass\",\n        \"less\",\n        \"xml\",\n        \"json\",\n        \"yaml\",\n        \"yml\",\n        \"toml\",\n        \"ini\",\n        \"cfg\",\n        \"sql\",\n        \"sh\",\n        \"bash\",\n        \"zsh\",\n        \"fish\",\n        \"ps1\",\n        \"bat\",\n        \"cmd\",\n        \"dockerfile\",\n        \"makefile\",\n        \"md\",\n        \"markdown\",\n        \"txt\",\n        \"log\",\n        \"conf\",\n        \"config\",\n        \"env\",\n        \"gitignore\",\n        \"gitattributes\"\n    ];\n    return codeExtensions.includes(getFileExtension(filename));\n}\nfunction getLanguageFromExtension(extension) {\n    const languageMap = {\n        \"js\": \"javascript\",\n        \"ts\": \"typescript\",\n        \"jsx\": \"jsx\",\n        \"tsx\": \"tsx\",\n        \"py\": \"python\",\n        \"java\": \"java\",\n        \"cpp\": \"cpp\",\n        \"c\": \"c\",\n        \"cs\": \"csharp\",\n        \"php\": \"php\",\n        \"rb\": \"ruby\",\n        \"go\": \"go\",\n        \"rs\": \"rust\",\n        \"swift\": \"swift\",\n        \"kt\": \"kotlin\",\n        \"html\": \"html\",\n        \"css\": \"css\",\n        \"scss\": \"scss\",\n        \"sass\": \"sass\",\n        \"less\": \"less\",\n        \"xml\": \"xml\",\n        \"json\": \"json\",\n        \"yaml\": \"yaml\",\n        \"yml\": \"yaml\",\n        \"toml\": \"toml\",\n        \"ini\": \"ini\",\n        \"sql\": \"sql\",\n        \"sh\": \"bash\",\n        \"bash\": \"bash\",\n        \"zsh\": \"bash\",\n        \"fish\": \"bash\",\n        \"ps1\": \"powershell\",\n        \"bat\": \"batch\",\n        \"cmd\": \"batch\",\n        \"dockerfile\": \"dockerfile\",\n        \"makefile\": \"makefile\",\n        \"md\": \"markdown\",\n        \"markdown\": \"markdown\",\n        \"txt\": \"text\",\n        \"log\": \"text\",\n        \"conf\": \"text\",\n        \"config\": \"text\",\n        \"env\": \"text\",\n        \"gitignore\": \"text\",\n        \"gitattributes\": \"text\"\n    };\n    return languageMap[extension] || \"text\";\n}\nfunction formatFileSize(bytes) {\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const sizes = [\n        \"Bytes\",\n        \"KB\",\n        \"MB\",\n        \"GB\"\n    ];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\n}\nfunction getTimeRemaining(createdAt) {\n    const now = new Date();\n    const createdDate = typeof createdAt === \"string\" ? new Date(createdAt) : createdAt;\n    const diff = 24 * 60 * 60 * 1000 - (now.getTime() - createdDate.getTime());\n    if (diff <= 0) return \"Expired\";\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor(diff % (1000 * 60 * 60) / (1000 * 60));\n    if (hours > 0) {\n        return `${hours}h ${minutes}m`;\n    }\n    return `${minutes}m`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBWUUsT0FBTyxFQUFDO0lBRXhFLElBQUlELFFBQVEsR0FBRyxPQUFPO0lBRXRCLE1BQU1FLFFBQVFqQyxLQUFLQyxLQUFLLENBQUM4QixPQUFRLFFBQU8sS0FBSyxFQUFDO0lBQzlDLE1BQU1HLFVBQVVsQyxLQUFLQyxLQUFLLENBQUMsT0FBUyxRQUFPLEtBQUssRUFBQyxJQUFPLFFBQU8sRUFBQztJQUVoRSxJQUFJZ0MsUUFBUSxHQUFHO1FBQ2IsT0FBTyxDQUFDLEVBQUVBLE1BQU0sRUFBRSxFQUFFQyxRQUFRLENBQUMsQ0FBQztJQUNoQztJQUNBLE9BQU8sQ0FBQyxFQUFFQSxRQUFRLENBQUMsQ0FBQztBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL25vdGUtdGFraW5nLWFwcC8uL2xpYi91dGlscy50cz9mNzQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgQ2xhc3NWYWx1ZSwgY2xzeCB9IGZyb20gXCJjbHN4XCJcclxuaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gXCJ0YWlsd2luZC1tZXJnZVwiXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY24oLi4uaW5wdXRzOiBDbGFzc1ZhbHVlW10pIHtcclxuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJvb21LZXkoKTogc3RyaW5nIHtcclxuICBjb25zdCBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODknXHJcbiAgbGV0IHJlc3VsdCA9ICcnXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XHJcbiAgICByZXN1bHQgKz0gY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpXHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHRcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUm9vbUtleShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiAvXltBLVowLTldezEwfSQvLnRlc3Qoa2V5KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmlsZUV4dGVuc2lvbihmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gZmlsZW5hbWUuc3BsaXQoJy4nKS5wb3AoKT8udG9Mb3dlckNhc2UoKSB8fCAnJ1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNDb2RlRmlsZShmaWxlbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgY29kZUV4dGVuc2lvbnMgPSBbXHJcbiAgICAnanMnLCAndHMnLCAnanN4JywgJ3RzeCcsICdweScsICdqYXZhJywgJ2NwcCcsICdjJywgJ2NzJywgJ3BocCcsICdyYicsICdnbycsICdycycsICdzd2lmdCcsICdrdCcsXHJcbiAgICAnaHRtbCcsICdjc3MnLCAnc2NzcycsICdzYXNzJywgJ2xlc3MnLCAneG1sJywgJ2pzb24nLCAneWFtbCcsICd5bWwnLCAndG9tbCcsICdpbmknLCAnY2ZnJyxcclxuICAgICdzcWwnLCAnc2gnLCAnYmFzaCcsICd6c2gnLCAnZmlzaCcsICdwczEnLCAnYmF0JywgJ2NtZCcsICdkb2NrZXJmaWxlJywgJ21ha2VmaWxlJyxcclxuICAgICdtZCcsICdtYXJrZG93bicsICd0eHQnLCAnbG9nJywgJ2NvbmYnLCAnY29uZmlnJywgJ2VudicsICdnaXRpZ25vcmUnLCAnZ2l0YXR0cmlidXRlcydcclxuICBdXHJcbiAgcmV0dXJuIGNvZGVFeHRlbnNpb25zLmluY2x1ZGVzKGdldEZpbGVFeHRlbnNpb24oZmlsZW5hbWUpKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VGcm9tRXh0ZW5zaW9uKGV4dGVuc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcclxuICBjb25zdCBsYW5ndWFnZU1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcclxuICAgICdqcyc6ICdqYXZhc2NyaXB0JyxcclxuICAgICd0cyc6ICd0eXBlc2NyaXB0JyxcclxuICAgICdqc3gnOiAnanN4JyxcclxuICAgICd0c3gnOiAndHN4JyxcclxuICAgICdweSc6ICdweXRob24nLFxyXG4gICAgJ2phdmEnOiAnamF2YScsXHJcbiAgICAnY3BwJzogJ2NwcCcsXHJcbiAgICAnYyc6ICdjJyxcclxuICAgICdjcyc6ICdjc2hhcnAnLFxyXG4gICAgJ3BocCc6ICdwaHAnLFxyXG4gICAgJ3JiJzogJ3J1YnknLFxyXG4gICAgJ2dvJzogJ2dvJyxcclxuICAgICdycyc6ICdydXN0JyxcclxuICAgICdzd2lmdCc6ICdzd2lmdCcsXHJcbiAgICAna3QnOiAna290bGluJyxcclxuICAgICdodG1sJzogJ2h0bWwnLFxyXG4gICAgJ2Nzcyc6ICdjc3MnLFxyXG4gICAgJ3Njc3MnOiAnc2NzcycsXHJcbiAgICAnc2Fzcyc6ICdzYXNzJyxcclxuICAgICdsZXNzJzogJ2xlc3MnLFxyXG4gICAgJ3htbCc6ICd4bWwnLFxyXG4gICAgJ2pzb24nOiAnanNvbicsXHJcbiAgICAneWFtbCc6ICd5YW1sJyxcclxuICAgICd5bWwnOiAneWFtbCcsXHJcbiAgICAndG9tbCc6ICd0b21sJyxcclxuICAgICdpbmknOiAnaW5pJyxcclxuICAgICdzcWwnOiAnc3FsJyxcclxuICAgICdzaCc6ICdiYXNoJyxcclxuICAgICdiYXNoJzogJ2Jhc2gnLFxyXG4gICAgJ3pzaCc6ICdiYXNoJyxcclxuICAgICdmaXNoJzogJ2Jhc2gnLFxyXG4gICAgJ3BzMSc6ICdwb3dlcnNoZWxsJyxcclxuICAgICdiYXQnOiAnYmF0Y2gnLFxyXG4gICAgJ2NtZCc6ICdiYXRjaCcsXHJcbiAgICAnZG9ja2VyZmlsZSc6ICdkb2NrZXJmaWxlJyxcclxuICAgICdtYWtlZmlsZSc6ICdtYWtlZmlsZScsXHJcbiAgICAnbWQnOiAnbWFya2Rvd24nLFxyXG4gICAgJ21hcmtkb3duJzogJ21hcmtkb3duJyxcclxuICAgICd0eHQnOiAndGV4dCcsXHJcbiAgICAnbG9nJzogJ3RleHQnLFxyXG4gICAgJ2NvbmYnOiAndGV4dCcsXHJcbiAgICAnY29uZmlnJzogJ3RleHQnLFxyXG4gICAgJ2Vudic6ICd0ZXh0JyxcclxuICAgICdnaXRpZ25vcmUnOiAndGV4dCcsXHJcbiAgICAnZ2l0YXR0cmlidXRlcyc6ICd0ZXh0J1xyXG4gIH1cclxuICByZXR1cm4gbGFuZ3VhZ2VNYXBbZXh0ZW5zaW9uXSB8fCAndGV4dCdcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEZpbGVTaXplKGJ5dGVzOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIGlmIChieXRlcyA9PT0gMCkgcmV0dXJuICcwIEJ5dGVzJ1xyXG4gIGNvbnN0IGsgPSAxMDI0XHJcbiAgY29uc3Qgc2l6ZXMgPSBbJ0J5dGVzJywgJ0tCJywgJ01CJywgJ0dCJ11cclxuICBjb25zdCBpID0gTWF0aC5mbG9vcihNYXRoLmxvZyhieXRlcykgLyBNYXRoLmxvZyhrKSlcclxuICByZXR1cm4gcGFyc2VGbG9hdCgoYnl0ZXMgLyBNYXRoLnBvdyhrLCBpKSkudG9GaXhlZCgyKSkgKyAnICcgKyBzaXplc1tpXVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGltZVJlbWFpbmluZyhjcmVhdGVkQXQ6IERhdGUgfCBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICBjb25zdCBjcmVhdGVkRGF0ZSA9IHR5cGVvZiBjcmVhdGVkQXQgPT09ICdzdHJpbmcnID8gbmV3IERhdGUoY3JlYXRlZEF0KSA6IGNyZWF0ZWRBdFxyXG4gIGNvbnN0IGRpZmYgPSAyNCAqIDYwICogNjAgKiAxMDAwIC0gKG5vdy5nZXRUaW1lKCkgLSBjcmVhdGVkRGF0ZS5nZXRUaW1lKCkpXHJcbiAgXHJcbiAgaWYgKGRpZmYgPD0gMCkgcmV0dXJuICdFeHBpcmVkJ1xyXG4gIFxyXG4gIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwKSlcclxuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoZGlmZiAlICgxMDAwICogNjAgKiA2MCkpIC8gKDEwMDAgKiA2MCkpXHJcbiAgXHJcbiAgaWYgKGhvdXJzID4gMCkge1xyXG4gICAgcmV0dXJuIGAke2hvdXJzfWggJHttaW51dGVzfW1gXHJcbiAgfVxyXG4gIHJldHVybiBgJHttaW51dGVzfW1gXHJcbn1cclxuIl0sIm5hbWVzIjpbImNsc3giLCJ0d01lcmdlIiwiY24iLCJpbnB1dHMiLCJnZW5lcmF0ZVJvb21LZXkiLCJjaGFycyIsInJlc3VsdCIsImkiLCJjaGFyQXQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJ2YWxpZGF0ZVJvb21LZXkiLCJrZXkiLCJ0ZXN0IiwiZ2V0RmlsZUV4dGVuc2lvbiIsImZpbGVuYW1lIiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsImlzQ29kZUZpbGUiLCJjb2RlRXh0ZW5zaW9ucyIsImluY2x1ZGVzIiwiZ2V0TGFuZ3VhZ2VGcm9tRXh0ZW5zaW9uIiwiZXh0ZW5zaW9uIiwibGFuZ3VhZ2VNYXAiLCJmb3JtYXRGaWxlU2l6ZSIsImJ5dGVzIiwiayIsInNpemVzIiwibG9nIiwicGFyc2VGbG9hdCIsInBvdyIsInRvRml4ZWQiLCJnZXRUaW1lUmVtYWluaW5nIiwiY3JlYXRlZEF0Iiwibm93IiwiRGF0ZSIsImNyZWF0ZWREYXRlIiwiZGlmZiIsImdldFRpbWUiLCJob3VycyIsIm1pbnV0ZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/tailwind-merge","vendor-chunks/clsx"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute&page=%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frooms%2F%5Bkey%5D%2Fitems%2Froute.ts&appDir=C%3A%5CUsers%5Cmasoo%5COneDrive%5CDesktop%5CProjects_2025%5CNOTE_%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cmasoo%5COneDrive%5CDesktop%5CProjects_2025%5CNOTE_&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();